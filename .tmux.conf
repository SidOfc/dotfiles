# Settings {{{
  setw -g  aggressive-resize  on
  setw -g  mode-keys          vi
  set  -g  focus-events       on
  set  -g  default-shell      /bin/zsh
  set  -g  default-command    'reattach-to-user-namespace -l zsh'
  set  -g  prefix             C-a
  set  -g  renumber-windows   on
  set  -g  base-index         1
  set  -g  default-terminal   "xterm-256color"
  set  -ga terminal-overrides ",xterm-256color:Tc"
  set  -sg escape-time        0
# }}}

# Keybindings {{{
  unbind %
  unbind '"'
  unbind C-b
  unbind [

  bind C-a send-prefix
  bind <   swap-window  -t -1
  bind >   swap-window  -t +1
  bind -   split-window -v       -c '#{pane_current_path}'
  bind \   split-window -h       -c '#{pane_current_path}'
  bind q   split-window -v -l 10 -c '#{pane_current_path}'
  bind c   new-window            -c '#{pane_current_path}'
  bind s   setw         synchronize-panes
  bind e   send-keys    -R \; send-keys C-l
  bind r   source-file  ~/.tmux.conf
  bind h   resize-pane  -L 10
  bind j   resize-pane  -D 10
  bind k   resize-pane  -U 10
  bind l   resize-pane  -R 10
  bind a   copy-mode
  bind C-a copy-mode

  # seamless pane switching between vim and tmux
  # see: https://github.com/christoomey/vim-tmux-navigator
  is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
      | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"

  bind-key -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"
  bind-key -n C-h if-shell "$is_vim" "send-keys C-h"  "select-pane -L"
  bind-key -n C-j if-shell "$is_vim" "send-keys C-j"  "select-pane -D"
  bind-key -n C-k if-shell "$is_vim" "send-keys C-k"  "select-pane -U"
  bind-key -n C-l if-shell "$is_vim" "send-keys C-l"  "select-pane -R"
  bind-key -T copy-mode-vi 'v'    send -X begin-selection
  bind-key -T copy-mode-vi 'y'    send -X copy-selection-and-cancel
  bind-key -T copy-mode-vi 'K'    send -X previous-paragraph
  bind-key -T copy-mode-vi 'J'    send -X next-paragraph
  bind-key -T copy-mode-vi Escape send -X cancel
# }}}

# Theming {{{
  # originally generated by tmuxline.vim, modified to be easier to configure manually.

  background="#2f3132"
  light_gray="#c8cacb"
  lighter_gray="#aeb0b1"
  gray="#949697"
  blue="#55b5db"
  col188="colour188"

  date_fg=$gray
  date_bg=$background

  time_fg=$background
  time_bg=$lighter_gray

  win_fg=$light_gray
  win_bg=$background

  selected_win_fg=$background
  selected_win_bg=$blue

  set  -g status-justify               "left"
  set  -g status                       "on"
  set  -g status-attr                  "none"
  set  -g message-command-bg           $background
  set  -g status-left-length           "100"
  set  -g pane-active-border-fg        $background
  set  -g status-bg                    $background
  set  -g message-command-fg           $background
  set  -g pane-border-fg               $blue
  set  -g message-bg                   $background
  set  -g status-left-attr             "none"
  set  -g status-right-attr            "none"
  set  -g status-right-length          "100"
  set  -g message-fg                   $blue
  setw -g window-status-fg             $col188
  setw -g window-status-attr           "none"
  setw -g window-status-activity-bg    $background
  setw -g window-status-activity-attr  "underscore"
  setw -g window-status-activity-fg    $col188
  setw -g window-status-separator      ""
  setw -g window-status-bg             $background
  set  -g status-left                  "#[fg=$blue] ⬤ "
  set  -g status-right                 "#[fg=$background,bg=$background,nobold,nounderscore,noitalics]#[fg=$date_fg,bg=$date_bg] %d·%m·%Y #[fg=$time_bg,bg=$time_fg,nobold,nounderscore,noitalics]#[fg=$time_fg,bg=$time_bg] %R "
  setw -g window-status-format         "#[fg=$win_bg,bg=$win_bg,nobold,nounderscore,noitalics]#[fg=$win_fg,bg=$win_bg] #I #W #[fg=$win_bg,bg=$win_bg,nobold,nounderscore,noitalics]"
  setw -g window-status-current-format "#[fg=$win_bg,bg=$selected_win_bg,nobold,nounderscore,noitalics]#[fg=$selected_win_fg,bg=$selected_win_bg,bold] #I #W #[fg=$selected_win_bg,bg=$win_bg,nobold,nounderscore,noitalics]"
# }}}
